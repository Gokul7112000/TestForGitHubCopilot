# This workflow builds the ChromaCascade game and displays a success message
# when code is pushed to the main branch.

name: 'Build ChromaCascade'

on:
  push:
    branches:
      - main

jobs:
  build:
    name: 'Build and Validate'
    runs-on: 'ubuntu-latest'

    steps:
      - name: 'Checkout Code'
        uses: 'actions/checkout@v4'

      - name: 'Verify Project Files'
        run: |
          echo "üîç Verifying project structure..."
          
          # Check for required files
          files=("index.html" "game.js" "tetromino.js" "renderer.js" "main.js" "styles.css")
          all_files_exist=true
          
          for file in "${files[@]}"; do
            if [ -f "$file" ]; then
              echo "‚úÖ Found: $file"
            else
              echo "‚ùå Missing: $file"
              all_files_exist=false
            fi
          done
          
          if [ "$all_files_exist" = true ]; then
            echo "‚úÖ All required files present"
          else
            echo "‚ùå Some required files are missing"
            exit 1
          fi

      - name: 'Build Success Message'
        run: |
          echo "================================================"
          echo "üéÆ ChromaCascade Build Successful! üéÆ"
          echo "================================================"
          echo ""
          echo "‚úÖ Build completed successfully"
          echo "‚úÖ All game files validated"
          echo "‚úÖ Ready for deployment"
          echo ""
          echo "Game Features:"
          echo "  ‚Ä¢ Tetris-style block dropping"
          echo "  ‚Ä¢ Color-matching mechanics"
          echo "  ‚Ä¢ Cascade system with combos"
          echo "  ‚Ä¢ Progressive difficulty"
          echo ""
          echo "Repository: ${{ github.repository }}"
          echo "Branch: ${{ github.ref_name }}"
          echo "Commit: ${{ github.sha }}"
          echo "Author: ${{ github.actor }}"
          echo ""
          echo "================================================"
